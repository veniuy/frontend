import React from 'react';

const Footer = ({ event, setEvent, colors = {}, fonts = {} }) => {
  // Función para manejar la acción de compartir en diferentes plataformas
  const handleShare = (platform) => {
    // Utiliza la URL del evento si está disponible, de lo contrario, usa la URL actual de la ventana
    const eventUrl = event?.url || window.location.href;
    // Utiliza el título del evento si está disponible, de lo contrario, un título predeterminado
    const eventTitle = event?.title || 'Nuestro Evento Especial';
    const shareText = `¡Te invitamos a ${eventTitle}! Detalles aquí: ${eventUrl}`;

    switch (platform) {
      case 'facebook':
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(eventUrl)}`, '_blank');
        break;
      case 'twitter':
        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`, '_blank');
        break;
      case 'whatsapp':
        window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(shareText)}`, '_blank');
        break;
      case 'copy':
        // Copia el enlace al portapapeles y notifica al usuario
        navigator.clipboard.writeText(eventUrl).then(() => {
          alert('Enlace copiado al portapapeles!');
        }).catch(err => {
          console.error('Error al copiar el enlace: ', err);
        });
        break;
      default:
        break;
    }
  };

  // Estilos inline para el footer, utilizando las props 'colors' y 'fonts' para personalización
  const footerStyle = {
    backgroundColor: colors?.footerBackground || '#f8f8f8',
    color: colors?.footerText || '#333',
    fontFamily: fonts?.body || 'Arial, sans-serif',
    padding: '20px',
    textAlign: 'center',
    marginTop: '40px',
  };

  // Estilos inline para los botones de compartir, utilizando las props 'colors'
  const shareButtonStyle = {
    backgroundColor: colors?.primary || '#6a0dad',
    color: colors?.buttonText || '#fff',
    border: 'none',
    padding: '10px 15px',
    margin: '0 5px',
    borderRadius: '5px',
    cursor: 'pointer',
    fontSize: '16px',
  };

  return (
    <footer style={footerStyle}>
      {/* Texto del copyright, editable a través de la prop 'event.title' */}
      <p style={{ fontSize: '14px', marginBottom: '15px' }}>
        © {new Date().getFullYear()} {event?.title || 'Nuestro Evento'}. Todos los derechos reservados.
      </p>
      <div>
        {/* Botones de compartir, con funcionalidad definida en handleShare */}
        <button style={shareButtonStyle} onClick={() => handleShare('facebook')}>Compartir en Facebook</button>
        <button style={shareButtonStyle} onClick={() => handleShare('twitter')}>Compartir en Twitter</button>
        <button style={shareButtonStyle} onClick={() => handleShare('whatsapp')}>Compartir en WhatsApp</button>
        <button style={shareButtonStyle} onClick={() => handleShare('copy')}>Copiar Enlace</button>
      </div>
    </footer>
  );
};

export default Footer;

